datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Bill {
  account     Account?  @relation(fields: [accountId], references: [id])
  accountId   String?
  amount      Float?
  billNumber  String?
  createdAt   DateTime  @default(now())
  dueDate     DateTime?
  id          String    @id @default(cuid())
  isPaid      Boolean?
  paymentDate DateTime?
  updatedAt   DateTime  @updatedAt
}

model Transaction {
  account         Account?                        @relation(fields: [accountId], references: [id])
  accountId       String?
  amount          Float?
  createdAt       DateTime                        @default(now())
  description     String?
  id              String                          @id @default(cuid())
  transactionDate DateTime?
  transactionType EnumTransactionTransactionType?
  updatedAt       DateTime                        @updatedAt
}

model Account {
  accountNumber String?
  accountType   EnumAccountAccountType?
  balance       Float?
  bills         Bill[]
  createdAt     DateTime                @default(now())
  id            String                  @id @default(cuid())
  transactions  Transaction[]
  updatedAt     DateTime                @updatedAt
  user          User?                   @relation(fields: [userId], references: [id])
  userId        String?
}

model User {
  accounts    Account[]
  createdAt   DateTime  @default(now())
  email       String?   @unique
  firstName   String?
  fullName    String?
  id          String    @id @default(cuid())
  lastName    String?
  password    String
  phoneNumber String?
  roles       Json
  updatedAt   DateTime  @updatedAt
  username    String    @unique
}

enum EnumTransactionTransactionType {
  Option1
}

enum EnumAccountAccountType {
  Option1
}
